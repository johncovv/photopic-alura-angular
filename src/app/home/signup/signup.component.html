<h4 class="text-center">Register to embrace a new world!</h4>

<form
	#form="ngForm"
	[formGroup]="signupForm"
	(submit)="signup()"
	class="form mt-4"
>
	<div class="form-group">
		<input
			#inputEmail
			formControlName="email"
			class="form-control"
			placeholder="email"
			autofocus
		/>
		<app-vmessage
			*ngIf="
				signupForm.get('email')?.errors?.required &&
				(form.submitted || signupForm.get('email')?.touched)
			"
			text="Email is required!"
		>
		</app-vmessage>
		<app-vmessage
			*ngIf="
				signupForm.get('email')?.errors?.email &&
				(form.submitted || signupForm.get('email')?.touched)
			"
			text="Invalid e-mail"
		>
		</app-vmessage>
	</div>

	<div class="form-group">
		<input
			formControlName="fullName"
			class="form-control"
			placeholder="full name"
			maxlength="40"
		/>
		<app-vmessage
			*ngIf="
				signupForm.get('fullName')?.errors?.required &&
				(form.submitted || signupForm.get('fullName')?.touched)
			"
			text="Full name is required!"
		>
		</app-vmessage>
		<app-vmessage
			*ngIf="
				signupForm.get('fullName')?.errors?.minlength &&
				(form.submitted || signupForm.get('fullName')?.touched)
			"
			text="Minimum length is 3"
		>
		</app-vmessage>
		<app-vmessage
			*ngIf="
				signupForm.get('fullName')?.errors?.maxlength &&
				(form.submitted || signupForm.get('fullName')?.touched)
			"
			text="Maximum length is 40"
		>
		</app-vmessage>
	</div>

	<div class="form-group">
		<input
			formControlName="userName"
			class="form-control"
			placeholder="user name"
			maxlength="14"
		/>
		<app-vmessage
			*ngIf="
				signupForm.get('userName')?.errors?.required &&
				(form.submitted || signupForm.get('userName')?.touched)
			"
			text="Username is required!"
		>
		</app-vmessage>
		<app-vmessage
			*ngIf="
				signupForm.get('userName')?.errors?.minlength &&
				(form.submitted || signupForm.get('userName')?.touched)
			"
			text="Minimum length is 3"
		>
		</app-vmessage>
		<app-vmessage
			*ngIf="
				signupForm.get('userName')?.errors?.maxlength &&
				(form.submitted || signupForm.get('userName')?.touched)
			"
			text="Maximum length is 14"
		>
		</app-vmessage>
		<app-vmessage
			*ngIf="
				signupForm.get('userName')?.errors?.lowerCase &&
				(form.submitted || signupForm.get('userName')?.touched)
			"
			text="Must be lowercase"
		>
		</app-vmessage>
		<app-vmessage
			*ngIf="
				signupForm.get('userName')?.errors?.notStartWithNumber &&
				(form.submitted || signupForm.get('userName')?.touched)
			"
			text="You cannot start with a number"
		>
		</app-vmessage>
		<app-vmessage
			text="Username already taken"
			*ngIf="signupForm.get('userName')?.errors?.userNameTaken"
		>
		</app-vmessage>
		<small *ngIf="signupForm.get('userName')?.valid" class="text-success"
			>User available</small
		>
	</div>

	<div class="form-group">
		<input
			formControlName="password"
			type="password"
			class="form-control"
			placeholder="password"
			maxlength="14"
		/>
		<app-vmessage
			*ngIf="
				signupForm.get('password')?.errors?.required &&
				(form.submitted || signupForm.get('password')?.touched)
			"
			text="Password is required!"
		>
		</app-vmessage>
		<app-vmessage
			*ngIf="
				signupForm.get('password')?.errors?.minlength &&
				(form.submitted || signupForm.get('password')?.touched)
			"
			text="Minimum length is 5"
		>
		</app-vmessage>
		<app-vmessage
			*ngIf="
				signupForm.get('password')?.errors?.maxlength &&
				(form.submitted || signupForm.get('password')?.touched)
			"
			text="Maximum length is 14"
		>
		</app-vmessage>
		<app-vmessage
			*ngIf="
				signupForm?.errors?.userNamePassword &&
				(signupForm.get('password')?.touched ||
					signupForm.get('userName')?.touched)
			"
			text="Username and password must be different"
		>
		</app-vmessage>
	</div>

	<button class="btn btn-primary btn-block">Register</button>

	<p class="mt-3">Already a user? <a [routerLink]="['']">Sign In!</a></p>
</form>
